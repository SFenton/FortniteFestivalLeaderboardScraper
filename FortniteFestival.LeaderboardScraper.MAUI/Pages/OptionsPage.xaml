<?xml version="1.0" encoding="utf-8"?>
<ContentPage
  xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
  xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
  x:Class="FortniteFestival.LeaderboardScraper.MAUI.Pages.OptionsPage"
  Title="Options"
>
  <ScrollView>
    <VerticalStackLayout Padding="24" Spacing="28">
      <VerticalStackLayout Spacing="4">
        <Label Text="Instruments" FontSize="20" FontAttributes="Bold" />
        <BoxView HeightRequest="2" Color="#512BD4" WidthRequest="120" HorizontalOptions="Start" />
      </VerticalStackLayout>
      <!-- Adaptive instruments: use FlexLayout for wrap support -->
      <FlexLayout
        Direction="Row"
        Wrap="Wrap"
        AlignItems="Center"
        AlignContent="Start"
        JustifyContent="Start"
        BindableLayout.ItemsSource="{Binding InstrumentOptions}"
      >
        <BindableLayout.ItemTemplate>
          <DataTemplate>
            <Grid ColumnDefinitions="Auto,Auto" Margin="0,4,32,4">
              <CheckBox IsChecked="{Binding IsSelected}" />
              <Label Grid.Column="1" Text="{Binding Name}" VerticalOptions="Center" />
            </Grid>
          </DataTemplate>
        </BindableLayout.ItemTemplate>
      </FlexLayout>
      <VerticalStackLayout Spacing="8">
        <Label Text="Performance" FontSize="20" FontAttributes="Bold" />
        <BoxView HeightRequest="2" Color="#512BD4" WidthRequest="160" HorizontalOptions="Start" />
        <HorizontalStackLayout Spacing="12" VerticalOptions="Center">
          <Label Text="Degree of Parallelism" VerticalOptions="Center" />
          <Entry WidthRequest="100" Keyboard="Numeric" Text="{Binding DegreeOfParallelism}" />
        </HorizontalStackLayout>
      </VerticalStackLayout>
      <Button
        Text="Save Settings"
        Command="{Binding SaveCommand}"
        HeightRequest="48"
        BackgroundColor="#512BD4"
        TextColor="White"
        CornerRadius="8"
      />
    </VerticalStackLayout>
  </ScrollView>
</ContentPage>
